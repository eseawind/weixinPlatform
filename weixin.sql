-- phpMyAdmin SQL Dump
-- version 3.5.2.2
-- http://www.phpmyadmin.net
--
-- 主机: 127.0.0.1
-- 生成日期: 2013 年 10 月 13 日 16:30
-- 服务器版本: 5.5.27
-- PHP 版本: 5.4.7

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- 数据库: `weixin`
--

-- --------------------------------------------------------

--
-- 表的结构 `tb_coupon`
--

CREATE TABLE IF NOT EXISTS `tb_coupon` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `CouponID` varchar(20) COLLATE utf8_bin NOT NULL,
  `CouponName` varchar(20) COLLATE utf8_bin DEFAULT NULL,
  `Memo` longtext COLLATE utf8_bin,
  `CreateTime` datetime NOT NULL,
  `StartedDate` datetime DEFAULT NULL,
  `ExpiredDays` int(11) DEFAULT NULL,
  `Unit` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `FK43E84F17C5FED38E` (`Unit`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COLLATE=utf8_bin AUTO_INCREMENT=2 ;

--
-- 转存表中的数据 `tb_coupon`
--

INSERT INTO `tb_coupon` (`ID`, `CouponID`, `CouponName`, `Memo`, `CreateTime`, `StartedDate`, `ExpiredDays`, `Unit`) VALUES
(1, '201310132132', '10元优惠券', 0xe587ade6ada4e794b5e5ad90e588b8e588b0e78eb0e59cbae58fafe68ab5e6b6883130e58583e79a84e8b4ade789a9e4bc98e683a0e380820d0ae69cace6b4bbe58aa8e8a7a3e9878ae69d83e5b19ee4ba8e776a68, '2013-10-13 00:00:00', '2013-10-14 00:00:00', 30, 1);

-- --------------------------------------------------------

--
-- 表的结构 `tb_member`
--

CREATE TABLE IF NOT EXISTS `tb_member` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `MemberID` varchar(20) COLLATE utf8_bin NOT NULL,
  `CreateTime` datetime NOT NULL,
  `OpenID` varchar(30) COLLATE utf8_bin NOT NULL,
  `Score` int(11) NOT NULL,
  `Term` int(11) NOT NULL,
  `Telephone` varchar(15) COLLATE utf8_bin NOT NULL,
  `Coupon` longtext COLLATE utf8_bin NOT NULL,
  `LastInput` varchar(2) COLLATE utf8_bin NOT NULL,
  `LastTime` datetime DEFAULT NULL,
  `Unit` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `FK5468018BC5FED38E` (`Unit`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COLLATE=utf8_bin AUTO_INCREMENT=2 ;

--
-- 转存表中的数据 `tb_member`
--

INSERT INTO `tb_member` (`ID`, `MemberID`, `CreateTime`, `OpenID`, `Score`, `Term`, `Telephone`, `Coupon`, `LastInput`, `LastTime`, `Unit`) VALUES
(1, '1234569', '2013-10-13 00:00:00', 'oKoALj_QxOeQK-AKwI354nX9kIWM', 0, 1, '13042072387', '', '', '2013-10-13 22:12:39', 1);

-- --------------------------------------------------------

--
-- 表的结构 `tb_sources`
--

CREATE TABLE IF NOT EXISTS `tb_sources` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `PicMessage` longtext COLLATE utf8_bin NOT NULL,
  `UpdateTime` datetime NOT NULL,
  `Unit` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `FK878602E7C5FED38E` (`Unit`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COLLATE=utf8_bin AUTO_INCREMENT=4 ;

--
-- 转存表中的数据 `tb_sources`
--

INSERT INTO `tb_sources` (`ID`, `PicMessage`, `UpdateTime`, `Unit`) VALUES
(1, 0x7b2274797065223a312c227069634e756d223a312c2270696355726c223a5b22687474703a2f2f36312e32382e3131322e3234322f77656978696e2f696d616765732f7069636d73672f756875646f6e672e6a7067225d2c227069635469746c65223a5b22e5b9bfe4b89ce5b9bfe794b5e5beaee4bfa1e890a5e99480e5b9b3e58fb0225d2c2270696344657363223a5b22e5b08ae695ace79a84e794a8e688b7efbc8ce6aca2e8bf8ee682a8e4bd93e9aa8c55484f54454ce98592e5ba97e5beaee4bfa1e890a5e99480e7b3bbe7bb9f5c6e5c6ee59b9ee5a48d31efbc9a20204341e58fb7e5bd95e585a55c6e5c6ee59b9ee5a48d32efbc9a2020e7a7afe58886e69fa5e8afa25c6e5c6ee59b9ee5a48d33efbc9a2020e4bc98e683a0e7a798e7b18d5c6e5c6ee59b9ee5a48d34efbc9a2020e5a597e9a490e68ea8e88d905c6e5c6ee59b9ee5a48d35efbc9a2020e890a5e4b89ae58e85e58a9fe883bd225d2c226a756d7055726c223a5b22687474703a2f2f7777772e62616964752e636f6d2f225d7d, '2013-10-13 00:00:00', 1),
(2, 0x7b2274797065223a312c227069634e756d223a312c2270696355726c223a5b22687474703a2f2f36312e32382e3131322e3234322f77656978696e2f696d616765732f7069636d73672f6d65697368692e6a7067225d2c227069635469746c65223a5b22e58f8ce6a492e78292e8858ae882a031225d2c2270696344657363223a5b22e5b9bfe5b79ee79a84e5a48fe5a4a9e899bde8afb4e5b7b2e7bb8fe5bfabe8bf87e58ebbe4ba86efbc8ce4bd86e698afe4be9de784b6e783ade5be97e8aea9e4babae783a6e8ba81efbc8ce8bf99e4ba9be5a4a9e6849fe8a789e789b9e588abe79a84e997b7e783adefbc8ce982a3e4b988e78eb0e59ca8e69c89e4bb80e4b988e6b688e69a91e79a84e7be8ee9a39fe591a2efbc9f225d2c226a756d7055726c223a5b22687474703a2f2f7777772e62616964752e636f6d2f225d7d, '2013-10-13 00:00:00', 1),
(3, 0x7b2274797065223a312c227069634e756d223a312c2270696355726c223a5b22687474703a2f2f36312e32382e3131322e3234322f77656978696e2f696d616765732f7069636d73672f6d65697368692e6a7067225d2c227069635469746c65223a5b22e58f8ce6a492e78292e8858ae882a032225d2c2270696344657363223a5b22e5b9bfe5b79ee79a84e5a48fe5a4a9e899bde8afb4e5b7b2e7bb8fe5bfabe8bf87e58ebbe4ba86efbc8ce4bd86e698afe4be9de784b6e783ade5be97e8aea9e4babae783a6e8ba81efbc8ce8bf99e4ba9be5a4a9e6849fe8a789e789b9e588abe79a84e997b7e783adefbc8ce982a3e4b988e78eb0e59ca8e69c89e4bb80e4b988e6b688e69a91e79a84e7be8ee9a39fe591a2efbc9f225d2c226a756d7055726c223a5b22687474703a2f2f7777772e62616964752e636f6d2f225d7d, '2013-10-13 00:00:00', 1);

-- --------------------------------------------------------

--
-- 表的结构 `tb_unit`
--

CREATE TABLE IF NOT EXISTS `tb_unit` (
  `UnitID` int(11) NOT NULL AUTO_INCREMENT,
  `UnitName` varchar(20) COLLATE utf8_bin NOT NULL,
  `Appid` varchar(18) COLLATE utf8_bin NOT NULL,
  `Secret` varchar(35) COLLATE utf8_bin NOT NULL,
  `Introduction` longtext COLLATE utf8_bin,
  `AutoReply` longtext COLLATE utf8_bin,
  `Score` int(11) NOT NULL,
  `Term` int(11) NOT NULL,
  `WelcomePage` int(11) NOT NULL,
  `Menu` longtext COLLATE utf8_bin,
  `UpdateTime` datetime NOT NULL,
  `CreateTime` datetime NOT NULL,
  PRIMARY KEY (`UnitID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COLLATE=utf8_bin AUTO_INCREMENT=2 ;

--
-- 转存表中的数据 `tb_unit`
--

INSERT INTO `tb_unit` (`UnitID`, `UnitName`, `Appid`, `Secret`, `Introduction`, `AutoReply`, `Score`, `Term`, `WelcomePage`, `Menu`, `UpdateTime`, `CreateTime`) VALUES
(1, '西园大酒店', 'wx6c5157bbf599d162', 'f7a0889bf9162c7f642e77e5bca1bc2a', 0xe5b9bfe5b79ee7baaae6a2b5e98592e5ba97e4ba8e31393878e5b9b4e5bc80e4b89aefbc8c2032303058e5b9b4e8a385e4bfaeefbc8ce68ba5e69c89393030e5a49ae997b4e688bfefbc8ce4bd8de4ba8ee5b9bfe5b79ee5b882e7b981e79b9be59586e4b89ae58cba20e4b98be5bf83e8848fe59cb0e5b8a6efbc8ce4baa4e9809ae69e81e4b8bae4bebfe588a9efbc8ce698afe4b8ade59bbde9a696e689b9e4b889e5aeb6e799bde98791e98592e5ba97e4b98be4b880e38082e5b9bfe5b79ee7baaae6a2b5e98592e5ba97e8a385e9a5b0e5af8ce4b8bde5a082e79a87efbc8ce68ba5e69c8920e5aea2e38081e5a597e688bfe5928ce695b0e799bee5a597e5af93e58f8ae58699e5ad97e6a5bcefbc8ce8aebee5a487e8b1aae58d8eefbc8ce78eafe5a283e585b8e99b85e88892e98082e38082e588abe585b7e789b9e889b2e79a84e4b8ade8a5bfe9a490e58e85e58f8ae98592e590a7efbc8ce88d9fe89083e4b8ade3808120e6b395e38081e697a5e7ad89e5a49ae59bbde9a38ee591b3e7be8ee9a39fefbc8ce9858de59088e7bb86e887b4e6aeb7e58ba4e380820d0a0d0ae794b5e8af9d3032302d3132333435360d0ae4bca0e79c9f3032302d3132333434, 0x7b226d657373616765223a5b7b226e756d223a22726f6f74222c226d657373616765223a22e59b9ee5a48d312020202055e4ba92e58aa8e4b893e58cba222c226368696c64223a5b7b226e756d223a2231222c226d657373616765223a22e8bf99e698af55e4ba92e58aa8e4b893e58cbaefbc88e6b58be8af95efbc89227d5d7d2c7b226e756d223a22726f6f74222c226d657373616765223a22e59b9ee5a48d3220202020e7a7bbe58aa855e5aebde9a291e7bd91e4b88ae7bbade8b4b9222c226368696c64223a5b7b226e756d223a2232222c226d657373616765223a22e8bf99e698afe7a7bbe58aa855e5aebde9a291e7bd91e4b88ae7bbade8b4b9efbc88e6b58be8af95efbc89227d5d7d2c7b226e756d223a22726f6f74222c226d657373616765223a22e59b9ee5a48d3320202020e59ca8e7babfe68aa5e8a385222c226368696c64223a5b7b226e756d223a2233222c226d657373616765223a22e8bf99e698afe59ca8e7babfe68aa5e8a385e8b4b9efbc88e6b58be8af95efbc89227d5d7d2c7b226e756d223a22726f6f74222c226d657373616765223a22e59b9ee5a48d3420202020e8b584e8aeafe68a95e8af89222c226368696c64223a5b7b226e756d223a2234222c226d657373616765223a22e8bf99e698afe8b584e8aeafe68a95e8af89efbc88e6b58be8af95efbc89227d5d7d2c7b226e756d223a22726f6f74222c226d657373616765223a22e59b9ee5a48d3520202020e890a5e4b89ae58e85e59cb0e59d80222c226368696c64223a5b7b226e756d223a2235222c226d657373616765223a22e8bf99e698afe890a5e4b89ae58e85e59cb0e59d80efbc88e6b58be8af95efbc89227d5d7d2c7b226e756d223a22726f6f74222c226d657373616765223a22e59b9ee5a48d3620202020e78eb0e59cbae6b4bbe58aa8e585ace5918a222c226368696c64223a5b7b226e756d223a2236222c226d657373616765223a22e59b9ee5a48d3120202020e890a5e4b89ae58e85e58a9ee79086e4b89ae58aa1e98081e7a4bce59381efbc88e6b58be8af95efbc89222c226368696c64223a5b7b226e756d223a223631222c226d657373616765223a22e59b9ee5a48d3120202020e58a9ee79086e4b889e5b9b4e5aebde5b8a6e4b89ae58aa1e4bc98e683a0efbc88e6b58be8af95efbc89222c226368696c64223a5b7b226e756d223a22363131222c226d657373616765223a22e8bf99e698afe890a5e4b89ae58e85e58a9ee79086e4b889e5b9b4e5aebde5b8a6e98081e4b880e5b9b4efbc88e6b58be8af95efbc89227d5d7d5d7d2c7b226e756d223a2236222c226d657373616765223a22e59b9ee5a48d3220202020e890a5e4b89ae58e85e58a9ee79086e4b889e5b9b4e5aebde5b8a6e98081e4b880e5b9b4efbc88e6b58be8af95efbc89222c226368696c64223a5b7b226e756d223a223632222c226d657373616765223a22e8bf99e698afe890a5e4b89ae58e85e58a9ee79086e4b889e5b9b4e5aebde5b8a6e98081e4b880e5b9b4efbc88e6b58be8af95efbc89227d5d7d5d7d5d7d, 0, 0, 1, 0x7b22627574746f6e223a5b7b226964223a312c226e616d65223a22e5bfabe68db7e58a9ee79086222c227375625f627574746f6e223a5b7b226964223a322c2274797065223a2276696577222c226e616d65223a2255e4ba92e58aa8e5a597e9a490222c2275726c223a22687474703a2f2f6764756875646f6e672e616c6c7965732e636f6d2f227d2c7b226964223a332c2274797065223a2276696577222c226e616d65223a2255e5aebde9a291e5a597e9a490222c2275726c223a22687474703a2f2f7777772e7a68636174762e636f6d2f6d616c6c2f62726f616462616e642f30315f323431382e7368746d6c227d2c7b226964223a342c2274797065223a2276696577222c226e616d65223a22e4bb98e8b4b9e9a291e98193222c2275726c223a22687474703a2f2f7777772e7a68636174762e636f6d2f6d616c6c2f6474762f30315f323432322e7368746d6c227d2c7b226964223a352c2274797065223a2276696577222c226e616d65223a22e782b9e692ade5a597e9a490222c2275726c223a22687474703a2f2f7777772e7a68636174762e636f6d2f6d616c6c2f6474762f30315f323431302e7368746d6c227d2c7b226964223a362c2274797065223a2276696577222c226e616d65223a22e5a29ee580bce4b89ae58aa1222c2275726c223a22687474703a2f2f7777772e7a68636174762e636f6d2f736572766963652f227d5d7d2c7b226964223a372c2274797065223a2276696577222c226e616d65223a22e890a5e4b89ae58e85222c2275726c223a22687474703a2f2f7777772e7a68636174762e636f6d2f6d616c6c2f6974762f30315f323431392e7368746d6c227d2c7b226964223a382c226e616d65223a22e59ba2e8b4ade6b4bbe58aa8222c227375625f627574746f6e223a5b7b226964223a392c2274797065223a2276696577222c226e616d65223a22e59586e5aeb6e68993e68a98222c2275726c223a2223227d5d7d5d7d, '2013-10-13 20:42:12', '2013-10-13 20:42:12');

-- --------------------------------------------------------

--
-- 表的结构 `tb_user`
--

CREATE TABLE IF NOT EXISTS `tb_user` (
  `UserID` int(11) NOT NULL AUTO_INCREMENT,
  `UserAccount` varchar(15) COLLATE utf8_bin NOT NULL,
  `Password` varchar(20) COLLATE utf8_bin NOT NULL,
  `Role` int(11) NOT NULL,
  `Unit` int(11) DEFAULT NULL,
  PRIMARY KEY (`UserID`),
  KEY `FKA4FF6AFCC5FED38E` (`Unit`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COLLATE=utf8_bin AUTO_INCREMENT=2 ;

--
-- 转存表中的数据 `tb_user`
--

INSERT INTO `tb_user` (`UserID`, `UserAccount`, `Password`, `Role`, `Unit`) VALUES
(1, 'wjh', '123', 2, 1);

-- --------------------------------------------------------

--
-- 表的结构 `tb_weixinkey`
--

CREATE TABLE IF NOT EXISTS `tb_weixinkey` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `KeyValue` varchar(10) COLLATE utf8_bin NOT NULL,
  `Message` varchar(100) COLLATE utf8_bin DEFAULT NULL,
  `UpdateTime` datetime NOT NULL,
  `Unit` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `FK9021C02CC5FED38E` (`Unit`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin AUTO_INCREMENT=1 ;

--
-- 限制导出的表
--

--
-- 限制表 `tb_coupon`
--
ALTER TABLE `tb_coupon`
  ADD CONSTRAINT `FK43E84F17C5FED38E` FOREIGN KEY (`Unit`) REFERENCES `tb_unit` (`UnitID`);

--
-- 限制表 `tb_member`
--
ALTER TABLE `tb_member`
  ADD CONSTRAINT `FK5468018BC5FED38E` FOREIGN KEY (`Unit`) REFERENCES `tb_unit` (`UnitID`);

--
-- 限制表 `tb_sources`
--
ALTER TABLE `tb_sources`
  ADD CONSTRAINT `FK878602E7C5FED38E` FOREIGN KEY (`Unit`) REFERENCES `tb_unit` (`UnitID`);

--
-- 限制表 `tb_user`
--
ALTER TABLE `tb_user`
  ADD CONSTRAINT `FKA4FF6AFCC5FED38E` FOREIGN KEY (`Unit`) REFERENCES `tb_unit` (`UnitID`);

--
-- 限制表 `tb_weixinkey`
--
ALTER TABLE `tb_weixinkey`
  ADD CONSTRAINT `FK9021C02CC5FED38E` FOREIGN KEY (`Unit`) REFERENCES `tb_unit` (`UnitID`);

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
